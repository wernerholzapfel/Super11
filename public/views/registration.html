<!-- BEGIN PAGE HEADER-->
<h3 class="page-title ng-scope">
    Registratie Formulier
</h3>
<div class="page-bar">
    <ul class="page-breadcrumb">
        <li>
            <i class="fa fa-home"></i>
            <a href="#/dashboard.html">Home</a>
            <i class="fa fa-angle-right"></i>
        </li>
        <li>
            <a href="#/registrationform.html">Registratie Formulier</a>
        </li>
    </ul>
    <div class="page-toolbar">
    </div>
</div>
<!-- END PAGE HEADER-->
<!-- BEGIN MAIN CONTENT -->
<div class="row" ng-controller="RegistrationApiController">
    <div class="col-md-12">
        <alert ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)">{{alert.msg}}</alert>
        <div ng-hide="showConfirm">
            <form name="participantForm" class="form-horizontal form-bordered" ng-show="showParticipant">
                <alert type="success" ng-show="participantForm.$invalid" close="closeAlert()">{{participantMsg}}</alert>
                <!-- BEGIN TABLE PORTLET-->
                <div class="portlet box blue-hoki">
                    <div class="portlet-title">
                        <div class="caption">
                            <i class="fa fa-user"></i>Schrijf je nu in
                        </div>
                        <div class="tools">
                            <a href="javascript:;" class="collapse" data-original-title="" title="">
                            </a>
                        </div>
                    </div>
                    <div class="portlet-body form">
                        <table class="table table-striped">
                            <tr>
                                <td>Naam</td>
                                <td>
                                    <input type="text" name="Name" required ng-model="data.Participant.Name"/>
                                    <br/>

                                    <div ng-show="form.$submitted || form.Name.$touched">
                                        <div ng-show="form.Name.$error.required">Wat is je naam?</div>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>Emailadres</td>
                                <td>
                                    <input type="email" name="Email" required ng-model="data.Participant.Email"/>
                                    <br/>

                                    <div ng-show="form.$submitted || form.Email.$touched">
                                        <span ng-show="form.Email.$error.required">Wat is je emailadres?</span>
                                        <span ng-show="form.Email.$error.email">Dit is geen geldig emailadres</span>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>Woonplaats</td>
                                <td>
                                    <input type="text" name="Location" required ng-model="data.Participant.Location"/>
                                    <br/>

                                    <div ng-show="form.$submitted || form.Location.$touched">
                                        <div ng-show="form.Location.$error.required">Wat is je woonplaats?</div>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td> Geslacht</td>
                                <td>
                                    <input type="radio" name="Gender" required ng-model="data.Participant.Gender"
                                           value="Man">Man
                                    <input type="radio" name="Gender" required ng-model="data.Participant.Gender"
                                           value="Vrouw">Vrouw
                                </td>
                            </tr>

                            <tr>
                                <td>Telefoon</td>
                                <td>
                                    <input type="tel" name="PhoneNumber" required
                                           ng-model="data.Participant.PhoneNumber"/>
                                    <br/>

                                    <div ng-show="form.$submitted || form.PhoneNumber.$touched">
                                        <span ng-show="form.PhoneNumber.$error.required">Wat is je telefoonnummer?</span>
                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <button value="Next" ng-disabled="participantForm.$invalid" ng-click="tableView()">Volgende</button>
            </form>

            <form name="tableForm" class="form-horizontal form-bordered" ng-show="showTable">
                <alert type="success" ng-show="tableForm.$invalid" close="closeAlert()">{{tableMsg}}</alert>
                <div class="row">
                    <div class="col-md-6">
                        <div class="portlet box blue-hoki">
                            <div class="portlet-title">
                                <div class="caption">
                                    <i class="fa fa-user"></i>Eindstand Eredivisie 2016/2017
                                </div>
                                <div class="tools">
                                    <a href="javascript:;" class="collapse" data-original-title="" title="">
                                    </a>
                                </div>
                            </div>
                            <div class="portlet-body form">

                                <table class="table table-striped">
                                    <thead>
                                    <tr>
                                        <td>Positie</td>
                                        <td>Team</td>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr ng-repeat="table in data.Table">

                                        <td>{{table.Position}}</td>
                                        <td>
                                            <select ng-name="SelectedTeamId" required ng-model="SelectedTeamId"
                                                    ng-change="updateTablePrediction(SelectedTeamId,table.Position)"
                                                    >
                                                <!--ng-options="team.Id as (team.Team) disable when team.Selected for team in teams track by team.Id"-->
                                                <!--ng-options="team as team.Team disable when team.Selected for (Id, team.Id) in team"-->
                                                <option ng-model="team" ng-value="team.Id"
                                                        ng-repeat="team in teams | orderBy : 'Selected'"
                                                        ng-disabled="team.Selected"
                                                        ng-hide="team.Selected">{{team.Team}}
                                                </option>
                                            </select>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <button value="Previous" ng-click="participantView()" ng-show="showTable">Terug</button>
                <button value="Next" ng-disabled="tableForm.$invalid" ng-click="teamView()">Volgende</button>
            </form>

            <form name="teamForm" class="form-horizontal form-bordered" ng-show="showTeam">
                <alert type="success" ng-show="tableForm.$invalid" close="closeAlert()">{{teamMsg}}</alert>
                <div class="row">
                    <div class="col-md-12">
                        <div class="portlet box blue-hoki">
                            <div class="portlet-title">
                                <div class="caption">
                                    <i class="fa fa-user"></i>Kies je team
                                </div>
                                <div class="tools">
                                    <a href="javascript:;" class="collapse" data-original-title="" title="">
                                    </a>
                                </div>
                            </div>
                            <div class="portlet-body form">


                                <table class="table table-striped">
                                    <thead>
                                    <tr>
                                        <td>Formatie:
                                            <select ng-name="selectedFormation" required ng-model="selectedFormation"
                                                    ng-change="setFormation(selectedFormation)">
                                                <option ng-model="formations" ng-repeat="formation in formations"
                                                        ng-model="formations.Formation" ng-value="formation.Formation">
                                                    {{formation.Formation}}
                                                </option>

                                            </select>
                                        </td>
                                    </tr>
                                    </thead>
                                    <tbody ng-repeat="pos in playerPositions" ng-show="formationChosen">

                                    <tr>
                                        <td>{{pos.Position}}</td>
                                    </tr>
                                    <tr ng-repeat="teamPlayer in data.Team | filter : {Position:pos.Position}">
                                        <td>
                                            <select ng-name="SelectedPlayerId" required ng-model="SelectedPlayerId"
                                                    ng-click="unSelectPlayersOfThisTeam(SelectedPlayerId,teamPlayer)"
                                                    ng-blur="selectPlayersOfThisTeam(SelectedPlayerId,teamPlayer)"
                                                    ng-change="updateTeamPrediction(SelectedPlayerId,teamPlayer)">
                                                <!--ng-options='player.Id as (player.Name + " (" + player.Team +")") disable when player.Selected for player in players |filter : {Position:pos.Position} track by player.Id'-->
                                                <!--ng-options="player.Id as player.Name disable when player.Selected for player in players |filter : {Position:pos.Position} track by player.Id"-->

                                                <option ng-model="players" ng-value="player.Id"
                                                        ng-repeat="player in players | filter : {Position:pos.Position} | orderBy:['Selected','Team','Name'] "
                                                        ng-hide="player.Selected"
                                                        ng-disabled="player.Selected"
                                                        value="{{player.Id}}">{{player.Name}} ({{player.Team}})
                                                </option>
                                            </select>
                                        </td>
                                    </tr>

                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <button value="Previous" ng-click="tableView()" ng-show="showTeam">Terug</button>
                <button value="Next" ng-disabled="poulesForm.$invalid" ng-click="questionsView()">Volgende</button>
            </form>

            <form name="questionsForm" class="form-horizontal form-bordered" ng-show="showQuestions">
                <alert type="success" ng-show="tableForm.$invalid" close="closeAlert()">{{questionMsg}}</alert>
                <div class="row">
                    <div class="col-md-12">
                        <div class="portlet box blue-hoki">
                            <div class="portlet-title">
                                <div class="caption">
                                    <i class="fa fa-user"></i>Nog {{data.Questions.length}} vragen!
                                </div>
                                <div class="tools">
                                    <a href="javascript:;" class="collapse" data-original-title="" title="">
                                    </a>
                                </div>
                            </div>
                            <div class="portlet-body form">

                                <table class="table table-striped">
                                    <thead>
                                    <tr>
                                        <td>Vraag</td>
                                        <td>Antwoord</td>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr ng-repeat="question in data.Questions">
                                        <td>
                                            {{question.Question}}
                                        </td>
                                        <td><input type="text" name="Location" required ng-model="question.Answer"/>
                                        </td>
                                    </tr>

                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <button value="Previous" ng-click="teamView()" ng-show="showQuestions">Terug</button>
                <button value="Next" ng-disabled="questionsForm.$invalid" ng-click="save()">Save (werkt nog niet)
                </button>
            </form>


        </div>
        <!-- END TABLE PORTLET-->
    </div>
</div>


<!-- END MAIN CONTENT -->
<!-- BEGIN MAIN JS -->
<script>
            function AdvancedDatatablesDemoCtrl($scope) {
                TableAdvanced.init();
            }




</script>
<!-- END MAIN JS -->